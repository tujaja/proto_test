<div id="remote_form">
<% remote_form_for @artist, :url => url do |f| %>
  <%= f.error_messages %>

  <p class="need"> * 必須項目 </p>
  <p class="title">アーティスト 『<%= h(@artist.name) %>』 基本情報</p>

  <table class="form">
    <tbody>
      <tr>
        <th><span>*</span><%= f.label :domain, "ドメイン(固有名)" %> </th>
        <td class="field">
          <%= f.text_field :domain, :style => "width:300px; font-size: 14px;" %>
        </td>
        <td class="desc">
          <ul class="list1"> <li><span>半角英数小文字3～30文字</span></li> </ul>
        </td>
      </tr>

      <tr>
        <th><span>*</span><%= f.label :name, "アーティスト名" %> </th>
        <td class="field">
          <%= f.text_field :name, :style => "width:300px; font-size: 14px;" %>
        </td>
        <td class="desc">
          <ul class="list1"> <li><span>全角半角30文字以内</span></li> </ul>
        </td>
      </tr>

      <tr>
        <th><span>*</span><%= f.label :subname, "アーティスト名(サブ)" %> </th>
        <td class="field">
          <%= f.text_field :subname, :style => "width:300px; font-size: 14px;" %>
        </td>
        <td class="desc">
          <ul class="list1"> <li><span>全角半角30文字以内</span></li></ul>
        </td>
      </tr>


      <tr>
        <th><span>*</span><%= f.label :email, "メールアドレス" %> </th>
        <td class="field">
          <%= f.text_field :email,  :style => "width:300px; font-size: 14px;" %>
        </td>
        <td class="desc">
          <ul class="list1"> <li><span>(例) 3shimeji@gmail.com</span></li> </ul>
        </td>
      </tr>

      <tr>
        <th><%= f.label :url, "ホームページ" %> </th>
        <td class="field">
          <%= f.text_field :url, :style => "width:300px; font-size: 14px;" %>
        </td>
        <td class="desc">
          <ul class="list1"> <li><span>(例) http://3shimeji.com</span></li> </ul>
        </td>
      </tr>

      <tr>
        <th><%= f.label :url, "所属レーベル" %> </th>
        <td class="field">
          <% label_name = @artist.label ? @artist.label.name : "選択されていません" -%>
          <% label_id = @artist.label ? @artist.label.id : 1 -%>
          <p id="label_name"><%= h(label_name) %></p>
          <%= f.hidden_field "label_id", { :value => label_id } %>
          <div class="btn_small"><span class="btn btn_small btn_wh_bl">
            <%= link_to_function 'レーベルを選択する',
              "label_selector(1,
              function(label) {
                $('artist_label_id').setValue(label.id);
                $('label_name').update(label.name);

              });"
            %>
          </span></div>
        </td>
        <td class="desc">
          <ul class="list1"></ul>
        </td>
      </tr>

      <tr>
        <th><%= f.label :description, "説明" %> </th>
        <td class="field">
          <%= f.text_area :description, :style => "width:300px; height: 200px; font-size: 14px;" %>
        </td>
        <td class="desc">
          <ul class="list1"></ul>
        </td>
      </tr>

      <tr>
        <th><%= f.label :url, "メイン画像" %> </th>
        <td class="field">
          <% image_name = @artist.primary_image ? @artist.primary_image.name : "選択されていません" -%>
          <% image_id = @artist.primary_image ? @artist.primary_image.id : 0 -%>
          <p id="image_name"><%= h(image_name) %></p>
          <%= f.hidden_field "primary_image", { :value => image_id } %>
          <div class="btn_small"><span class="btn btn_small btn_wh_bl">
            <%= link_to_function '画像を選択する',
              "image_selector(1,
              function(img) {
                $('artist_primary_image').setValue(img.id);
                $('image_name').update(img.filename);
                switch_image(img.token, $('image_thumb'), 's50');
              });"
            %>
          </span></div>
        </td>
        <td class="desc">
          <ul class="list1"><img id="image_thumb" class="s50" width="50" height="50" src="/images/noimage-50.jpg" /></ul>
        </td>
      </tr>

    </tbody>
  </table>
  <%= hidden_field_tag("command", "basic") %>
  <p class="buttons"><%= f.submit action_name %> </p>
<% end %>
</div>
